{"mappings":"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","sources":["public/js/index.js","public/js/mapbox.js","public/js/login.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["/* eslint-disable */\n// import '@babel/polyfill';\n\nimport { displayMap } from './mapbox.js';\nimport { login, logout } from './login.js';\n\nconst loginForm = document.querySelector('.form--login');\n\nconst locations = JSON.parse(document.getElementById('map').dataset.locations);\ndisplayMap(locations);\n\nif (loginForm) {\n    loginForm.addEventListener('submit', e => {\n        e.preventDefault();\n    \n        const email = document.getElementById('email').value;\n        const password = document.getElementById('password').value;\n        login(email, password);\n    });\n}","/* eslint-disable */\nconst locations = JSON.parse(document.getElementById('map').dataset.locations);\nconsole.log(locations);\n\nexports.displayMap = (locations) => {\n    mapboxgl.accessToken = 'pk.eyJ1Ijoiamlhd2VueiIsImEiOiJjbTlkZGYwZm4wY285MmpvZDVucXdtbm5xIn0.ZYXY9nG0vvqtUqVO_RZ2Pg';\n\n    var map = new mapboxgl.Map({\n        container:'map',\n        style: 'mapbox://styles/jiawenz/cm9ddum5f009p01spg3wpena4',\n        scrollZoom: false,\n        // center: [],\n        // zoom: 10,\n        // interactive: false,\n    });\n\n    const bounds = new mapboxgl.LngLatBounds();\n\n    locations.forEach(loc => {\n        // create a marker\n        const el = document.createElement('div');\n        el.className = 'marker';\n\n        new mapboxgl.Marker({ element: el, anchor: 'bottom'})\n            .setLngLat(loc.coordinates)\n            .addTo(map);\n\n        new mapboxgl.Popup({ offset: 30 })\n            .setLngLat(loc.coordinates)\n            .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\n            .addTo(map);\n\n        bounds.extend(loc.coordinates);\n        map.fitBounds(bounds, { top:200, bottom:150, left:100, right:100 });\n    });\n};\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoiamlhd2VueiIsImEiOiJjbTlkZGYwZm4wY285MmpvZDVucXdtbm5xIn0.ZYXY9nG0vvqtUqVO_RZ2Pg';\n\nvar map = new mapboxgl.Map({\n    container:'map',\n    style: 'mapbox://styles/jiawenz/cm9ddum5f009p01spg3wpena4',\n    scrollZoom: false,\n    // center: [],\n    // zoom: 10,\n    // interactive: false,\n});\n\nconst bounds = new mapboxgl.LngLatBounds();\n\nlocations.forEach(loc => {\n    // create a marker\n    const el = document.createElement('div');\n    el.className = 'marker';\n\n    new mapboxgl.Marker({ element: el, anchor: 'bottom'})\n        .setLngLat(loc.coordinates)\n        .addTo(map);\n\n    new mapboxgl.Popup({ offset: 30 })\n        .setLngLat(loc.coordinates)\n        .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\n        .addTo(map);\n\n    bounds.extend(loc.coordinates);\n    map.fitBounds(bounds, { top:200, bottom:150, left:100, right:100 });\n});","/* eslint-disable */\nexport const login = async (email, password) => {\n    try {\n        const res = await axios({\n            method: 'POST',\n            url: 'http://127.0.0.1:3000/api/v1/users/login',\n            data: { email, password }\n        });\n        \n        if (res.data.status === 'success') {\n            alert('Logged in successfully.')\n            window.setTimeout(() => location.assign('/'), 1500);\n        }\n    } catch (err) {\n        alert(err);\n    }\n};\n\nexport const logout = async () => {\n    try {\n        const res = await axios({\n            method: 'GET',\n            url: 'http://127.0.0.1:3000/api/v1/users/logout'\n        });\n\n        if ((res.data.status = 'success')) location.reload(true);\n    } catch (err) {\n        alert(err.response.data.message);\n    }\n};","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}